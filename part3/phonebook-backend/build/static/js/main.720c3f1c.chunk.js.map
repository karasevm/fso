{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","removeHandler","name","number","onClick","Persons","persons","map","key","Filter","filterValue","changeHandler","value","onChange","PersonForm","submitHandler","nameChangeHandler","numberChangeHandler","nameValue","numberValue","onSubmit","type","Notification","message","success","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","searchTerm","setNewSearchTerm","notificationMessage","setNotificationMessage","notificationSuccess","setNotificationSuccess","useEffect","personService","receivedPersons","showMessage","setTimeout","personsToDisplay","filter","toLowerCase","includes","event","target","preventDefault","console","log","oldPerson","find","window","confirm","newPerson","receivedPerson","catch","concat","personToRemove","receivedData","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.720c3f1c.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Persons = ({ persons, removeHandler }) => {\n  return persons.map((person) => (\n    <Person\n      key={person.name}\n      person={person}\n      removeHandler={() => {\n        removeHandler(person);\n      }}\n    />\n  ));\n};\n\nconst Person = ({ person, removeHandler }) => {\n  return (\n    <div>\n      {person.name} {person.number}{\" \"}\n      <button onClick={removeHandler}>delete</button>\n    </div>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Filter = ({ filterValue, changeHandler }) => {\n  return <input value={filterValue} onChange={changeHandler} />;\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  submitHandler,\n  nameChangeHandler,\n  numberChangeHandler,\n  nameValue,\n  numberValue,\n}) => {\n  return (\n    <form onSubmit={submitHandler}>\n      <div>\n        name: <input value={nameValue} onChange={nameChangeHandler} />\n      </div>\n      <div>\n        number: <input value={numberValue} onChange={numberChangeHandler} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Notification = ({ message, success }) => {\n  if (message === null) {\n    return null;\n  }\n  const notificationStyle = {\n    color: \"red\",\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n\n  if (success) {\n    notificationStyle.color = \"green\";\n  }\n  return <div style={notificationStyle}>{message}</div>;\n};\nexport default Notification;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, update, remove };\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchTerm, setNewSearchTerm] = useState(\"\");\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [notificationSuccess, setNotificationSuccess] = useState(null);\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((receivedPersons) => setPersons(receivedPersons));\n  }, []);\n\n  const showMessage = (message, success) => {\n    setNotificationMessage(message);\n    setNotificationSuccess(success);\n    setTimeout(() => {\n      setNotificationMessage(null);\n      setNotificationSuccess(null);\n    }, 5000);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    console.log(persons.map((person) => person.name));\n    const oldPerson = persons.find((person) => person.name === newName);\n    if (oldPerson) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const newPerson = { ...oldPerson, number: newNumber };\n        personService\n          .update(newPerson.id, newPerson)\n          .then((receivedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== newPerson.id ? person : receivedPerson\n              )\n            );\n            setNewName(\"\");\n            setNewNumber(\"\");\n          })\n          .catch((response) => {\n            showMessage(\n              `Information of ${newPerson.name} has already been removed from server`\n            );\n            setPersons(persons.filter((person) => person.id !== newPerson.id));\n          });\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      };\n      personService.create(newPerson).then((receivedPerson) => {\n        setPersons(persons.concat(receivedPerson));\n        showMessage(`Added ${receivedPerson.name}`, true);\n      });\n    }\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchTermChange = (event) => {\n    setNewSearchTerm(event.target.value);\n  };\n\n  const removePersonFromList = (personToRemove) => {\n    if (window.confirm(`Delete ${personToRemove.name}?`))\n      personService\n        .remove(personToRemove.id)\n        .then((receivedData) =>\n          setPersons(\n            persons.filter((person) => person.id !== personToRemove.id)\n          )\n        );\n  };\n  const personsToDisplay =\n    searchTerm === \"\"\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(searchTerm.toLowerCase())\n        );\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        message={notificationMessage}\n        success={notificationSuccess}\n      />\n      <Filter filterValue={searchTerm} changeHandler={handleSearchTermChange} />\n      <h3>Add a new</h3>\n      <PersonForm\n        submitHandler={addPerson}\n        nameChangeHandler={handleNameChange}\n        numberChangeHandler={handleNumberChange}\n        nameValue={newName}\n        numberValue={newNumber}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        persons={personsToDisplay}\n        removeHandler={removePersonFromList}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}